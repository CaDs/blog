{{ define "main" }}
<section class="home">
    <div class="home-intro">
        <h1>{{ .Site.Title }}</h1>
        {{ with .Site.Params.description }}
        <p class="site-description">{{ . }}</p>
        {{ end }}
    </div>

    <section class="recent-posts">
        <h2>Recent Posts</h2>
        <div class="posts-list">
            {{ range first 5 (where .Site.RegularPages "Section" "posts") }}
            <article class="post-preview">
                <header>
                    <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
                    <div class="post-meta">
                        <time datetime="{{ .Date.Format "2006-01-02" }}">
                            {{ .Date.Format "January 2, 2006" }}
                        </time>
                        {{ if $.Site.Params.showReadingTime }}
                        <span class="reading-time">{{ .ReadingTime }} min read</span>
                        {{ end }}
                    </div>
                </header>
                {{ if .Description }}
                <p class="post-excerpt">{{ .Description }}</p>
                {{ else if .Summary }}
                <p class="post-excerpt">{{ .Summary | truncate 150 }}</p>
                {{ end }}
            </article>
            {{ end }}
        </div>
        <a href="{{ "posts/" | absURL }}" class="view-all">View all posts &rarr;</a>
    </section>
</section>
{{ end }}
